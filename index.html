<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>THUNDER KARTELLS</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;800;900&family=Rajdhani:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * { 
      box-sizing: border-box; 
      margin: 0; 
      padding: 0; 
    }
    
    html, body { 
      height: 100%; 
      font-family: 'Rajdhani', sans-serif;
    }
    
    body {
      color: #fff;
      background: #000;
      overflow-x: hidden;
      position: relative;
    }

    /* Diwali Special Animated Background */
    .diwali-background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      background: linear-gradient(180deg, #0a0a2a 0%, #1a0033 50%, #000 100%);
      overflow: hidden;
    }

    /* Stars */
    .star {
      position: absolute;
      background: white;
      border-radius: 50%;
      animation: twinkle 3s infinite;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 1; }
    }

    /* Fireworks */
    .firework {
      position: absolute;
      pointer-events: none;
    }

    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      border-radius: 50%;
      animation: explode 1.5s forwards;
    }

    @keyframes explode {
      0% {
        transform: translate(0, 0) scale(1);
        opacity: 1;
      }
      100% {
        transform: translate(var(--tx), var(--ty)) scale(0);
        opacity: 0;
      }
    }

    /* Sparkles */
    .sparkle {
      position: absolute;
      width: 3px;
      height: 3px;
      background: gold;
      border-radius: 50%;
      animation: sparkleFall 4s linear infinite;
      box-shadow: 0 0 6px 2px gold;
    }

    @keyframes sparkleFall {
      0% {
        transform: translateY(-100px) rotate(0deg);
        opacity: 1;
      }
      100% {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
      }
    }

    /* Light Flares */
    .light-flare {
      position: absolute;
      width: 200px;
      height: 200px;
      background: radial-gradient(circle, rgba(255,215,0,0.4) 0%, transparent 70%);
      border-radius: 50%;
      animation: flarePulse 3s ease-in-out infinite;
      filter: blur(10px);
    }

    @keyframes flarePulse {
      0%, 100% { transform: scale(1); opacity: 0.3; }
      50% { transform: scale(1.2); opacity: 0.6; }
    }

    /* Preloader */
    #preloader {
      position: fixed;
      inset: 0;
      background: #000;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      transition: opacity .6s ease, visibility .6s ease;
    }
    
    #preloader.hide { 
      opacity: 0; 
      visibility: hidden; 
      pointer-events: none; 
    }

    .pulse-loader {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(45deg, #ff0080, #8000ff);
      animation: pulse 1.5s ease-in-out infinite alternate;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 900;
      font-size: 18px;
      color: #fff;
      text-shadow: 0 0 10px #fff;
    }
    
    @keyframes pulse {
      0% { 
        transform: scale(0.8); 
        box-shadow: 0 0 20px #ff0080; 
      }
      100% { 
        transform: scale(1.2); 
        box-shadow: 0 0 40px #8000ff, 0 0 60px #ff0080; 
      }
    }

    /* TK Logo */
    .tk-logo {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 10;
      background: rgba(0, 0, 0, 0.7);
      padding: 10px 15px;
      border: 2px solid #00ffff;
      color: #00ffff;
      font-weight: 900;
      font-size: 20px;
      letter-spacing: 2px;
      text-transform: uppercase;
    }

    /* Three-dot Menu */
    .menu-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 100;
    }

    .menu-toggle {
      background: rgba(0, 0, 0, 0.7);
      border: 2px solid #00ffff;
      color: #00ffff;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 24px;
      transition: all 0.3s ease;
    }

    .menu-toggle:hover {
      background: rgba(0, 255, 255, 0.1);
      transform: scale(1.1);
    }

    .dropdown-menu {
      position: absolute;
      top: 60px;
      right: 0;
      background: rgba(0, 0, 0, 0.9);
      border: 1px solid #00ffff;
      border-radius: 5px;
      padding: 10px 0;
      min-width: 200px;
      opacity: 0;
      visibility: hidden;
      transform: translateY(-10px);
      transition: all 0.3s ease;
    }

    .dropdown-menu.show {
      opacity: 1;
      visibility: visible;
      transform: translateY(0);
    }

    .dropdown-menu a {
      display: block;
      padding: 10px 20px;
      color: #00ffff;
      text-decoration: none;
      transition: background 0.3s;
      text-transform: uppercase;
      font-weight: bold;
      letter-spacing: 1px;
    }

    .dropdown-menu a:hover {
      background: rgba(0, 255, 255, 0.1);
    }

    /* Main App */
    #app {
      position: relative;
      z-index: 2;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 24px;
      gap: 30px;
      opacity: 0;
      transition: opacity .8s ease;
    }
    
    body.loaded #app { 
      opacity: 1; 
    }

    /* Cool Title */
    .main-title {
      text-transform: uppercase;
      font-weight: 900;
      letter-spacing: 6px;
      margin-bottom: 10px;
      font-family: 'Orbitron', sans-serif;
      text-align: center;
    }

    .cool-title {
      font-size: 6.5rem;
      background: linear-gradient(45deg, #ff0080, #8000ff, #00ffff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-shadow: 0 0 30px rgba(255, 0, 128, 0.5);
      line-height: 1;
      margin-bottom: 20px;
      position: relative;
      display: inline-block;
    }

    .cool-title::after {
      content: '';
      position: absolute;
      bottom: -15px;
      left: 0;
      width: 100%;
      height: 5px;
      background: linear-gradient(90deg, #ff0080, #8000ff, #00ffff);
      border-radius: 5px;
    }

    /* Tagline */
    .tagline {
      font-size: 18px;
      color: #ccc;
      letter-spacing: 4px;
      text-transform: uppercase;
      margin-top: 40px;
      line-height: 1.6;
      max-width: 600px;
    }

    /* Buttons */
    .btn-container {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 40px;
    }

    .modern-btn {
      padding: 15px 30px;
      border: 2px solid transparent;
      background: linear-gradient(45deg, #ff0080, #8000ff);
      color: white;
      text-decoration: none;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 2px;
      font-size: 14px;
      border-radius: 0;
      transition: all 0.3s ease;
      position: relative;
      z-index: 3;
    }

    .modern-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(255, 0, 128, 0.3);
    }

    .modern-btn.secondary {
      background: transparent;
      border: 2px solid #00ffff;
      color: #00ffff;
    }

    .modern-btn.secondary:hover {
      background: rgba(0, 255, 255, 0.1);
    }

    .modern-btn.enemy {
      background: linear-gradient(45deg, #ff4444, #cc0000);
    }

    /* About Section */
    .about-section {
      padding: 100px 20px;
      max-width: 1000px;
      margin: 0 auto;
      text-align: center;
      opacity: 0;
      transform: translateY(50px);
      transition: all 0.8s ease;
      position: relative;
      z-index: 2;
    }

    .about-section.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .section-title {
      font-size: 36px;
      color: #00ffff;
      text-transform: uppercase;
      letter-spacing: 4px;
      margin-bottom: 40px;
      text-shadow: 0 0 20px #00ffff;
      font-family: 'Orbitron', sans-serif;
    }

    .about-text {
      text-align: center;
      color: #ccc;
      line-height: 1.8;
      font-size: 16px;
      max-width: 800px;
      margin: 0 auto;
    }

    .about-text p {
      margin-bottom: 20px;
    }

    /* Ranks Section */
    .ranks-section {
      padding: 100px 20px;
      max-width: 1200px;
      margin: 0 auto;
      text-align: center;
      opacity: 0;
      transform: translateY(50px);
      transition: all 0.8s ease;
      position: relative;
      z-index: 2;
    }

    .ranks-section.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .ranks-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin-top: 40px;
    }

    .rank-category {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(0,255,255,0.2);
      padding: 25px;
      border-radius: 10px;
      backdrop-filter: blur(10px);
    }

    .rank-category h3 {
      color: #ff0080;
      font-size: 20px;
      margin-bottom: 20px;
      text-transform: uppercase;
      letter-spacing: 2px;
      border-bottom: 2px solid #00ffff;
      padding-bottom: 10px;
    }

    .rank-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .rank-item {
      background: rgba(0,0,0,0.5);
      padding: 12px 15px;
      border-left: 4px solid #00ffff;
      text-align: left;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .rank-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(0,255,255,0.1), transparent);
      transition: left 0.5s;
    }

    .rank-item:hover::before {
      left: 100%;
    }

    .rank-item:hover {
      transform: translateX(10px);
      border-left-color: #ff0080;
    }

    .rank-name {
      color: #00ffff;
      font-weight: bold;
      font-size: 16px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .rank-badge {
      display: inline-block;
      background: #ff0080;
      color: white;
      font-size: 10px;
      padding: 2px 8px;
      border-radius: 10px;
      margin-left: 8px;
      text-transform: uppercase;
    }

    /* Footer */
    .copyright-footer {
      background: rgba(0, 0, 0, 0.9);
      padding: 40px 20px;
      text-align: center;
      border-top: 2px solid #00ffff;
      margin-top: 50px;
      position: relative;
      z-index: 2;
    }

    .copyright-text {
      font-size: 14px;
      color: #ccc;
      letter-spacing: 2px;
      text-transform: uppercase;
      margin-bottom: 10px;
    }

    .founded-text {
      font-size: 14px;
      color: #888;
      letter-spacing: 1px;
    }

    .copyright-symbol {
      color: #ff0080;
      margin-right: 5px;
    }

    /* Modals */
    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9998;
      opacity: 0;
      visibility: hidden;
      transition: opacity .3s ease;
    }
    
    .modal.show { 
      opacity: 1; 
      visibility: visible; 
    }

    .allies-modal {
      width: min(500px, 90vw);
      background: rgba(20, 20, 20, 0.95);
      border: 1px solid #333;
      padding: 30px;
      position: relative;
    }

    .allies-header {
      text-align: center;
      margin-bottom: 30px;
    }

    .allies-header h2 {
      color: #00ffff;
      font-size: 24px;
      text-transform: uppercase;
      letter-spacing: 3px;
      margin-bottom: 10px;
    }

    .ally-card {
      background: rgba(255,255,255,0.05);
      border-left: 3px solid #ff0080;
      padding: 20px;
      margin-bottom: 20px;
    }

    .enemy-card {
      background: rgba(255,255,255,0.05);
      border-left: 3px solid #ff4444;
      padding: 20px;
      margin-bottom: 20px;
    }

    .ally-name {
      color: #ff0080;
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 10px;
      text-transform: uppercase;
    }

    .enemy-name {
      color: #ff4444;
      font-size: 18px;
      font-weight: bold;
      margin-bottom: 10px;
      text-transform: uppercase;
    }

    .ally-desc {
      color: #ccc;
      font-size: 14px;
      line-height: 1.5;
      margin-bottom: 15px;
    }

    .development-message {
      text-align: center;
      padding: 40px 20px;
      color: #ff0080;
      font-size: 24px;
      font-weight: bold;
      text-transform: uppercase;
      letter-spacing: 2px;
    }

    .spg-buttons {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .spg-btn {
      background: #333;
      color: #fff;
      padding: 10px 20px;
      text-decoration: none;
      font-size: 12px;
      transition: background 0.3s ease;
      text-transform: uppercase;
      font-weight: bold;
    }

    .spg-btn:hover {
      background: #ff0080;
    }

    .close-x {
      position: absolute;
      top: 15px;
      right: 15px;
      background: none;
      border: none;
      color: #fff;
      font-size: 20px;
      cursor: pointer;
    }

    /* Gallery Styles */
    .gallery-modal {
      width: min(90vw, 800px);
      background: rgba(20, 20, 20, 0.95);
      border: 1px solid #333;
      padding: 20px;
      position: relative;
    }

    .gallery-image {
      width: 100%;
      height: auto;
      border: 2px solid #333;
      margin-bottom: 10px;
    }

    .gallery-controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .gallery-input {
      flex: 1;
      padding: 8px;
      background: rgba(255,255,255,0.1);
      border: 1px solid #333;
      color: white;
      margin-right: 10px;
    }

    .add-image-btn {
      background: #00ffff;
      color: #000;
      border: none;
      padding: 8px 15px;
      cursor: pointer;
      font-weight: bold;
    }

    .ghost-btn {
      background: transparent;
      border: 1px solid #333;
      color: #ccc;
      padding: 8px 12px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .ghost-btn:hover {
      background: rgba(255,255,255,0.1);
    }

    /* Admin Button */
    .admin-btn {
      position: fixed;
      top: 90px;
      right: 20px;
      background: #ff4444;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 5px;
      font-size: 12px;
      cursor: pointer;
      opacity: 0.3;
      z-index: 10000;
    }

    .admin-btn:hover {
      opacity: 1;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .cool-title {
        font-size: 4rem;
      }
      .btn-container { flex-direction: column; }
      .modern-btn { width: 250px; }
      .tagline { font-size: 14px; }
      .gallery-controls { flex-direction: column; gap: 10px; }
      .gallery-input { margin-right: 0; margin-bottom: 10px; }
      .ranks-grid { grid-template-columns: 1fr; }
    }

    @media (max-width: 480px) {
      .cool-title {
        font-size: 3rem;
      }
    }
  </style>
</head>
<body>
  <!-- Diwali Special Background -->
  <div class="diwali-background" id="diwaliBg"></div>

  <!-- Preloader -->
  <div id="preloader">
    <div class="pulse-loader">TK</div>
  </div>

  <!-- TK Logo -->
  <div class="tk-logo">TK</div>

  <!-- Three-dot Menu -->
  <div class="menu-container">
    <div class="menu-toggle" id="menuToggle">☰</div>
    <div class="dropdown-menu" id="dropdownMenu">
      <a href="#app">Home</a>
      <a href="#aboutSection">About</a>
      <a href="#ranksSection">Ranks</a>
      <a href="#" id="galleryBtnMenu">Gallery</a>
      <a href="#" id="alliesBtnMenu">Allies</a>
      <a href="#" id="membersBtnMenu">Members</a>
      <a href="#" id="enemiesBtnMenu">Enemies</a>
    </div>
  </div>

  <!-- Admin Button -->
  <button class="admin-btn" onclick="showVisits()">👁️ Visits</button>

  <!-- Main App -->
  <div id="app">
    <!-- Cool Title -->
    <div class="main-title">
      <div class="cool-title">THUNDER KARTELLS</div>
    </div>

    <!-- Tagline -->
    <div class="tagline">ELITE FORCE • URBAN DOMINANCE • STRATEGIC BROTHERHOOD</div>

    <!-- Buttons -->
    <div class="btn-container">
      <a href="https://discord.gg/JWET9ypB" target="_blank" class="modern-btn">Discord Server</a>
      <a href="#" id="galleryBtn" class="modern-btn secondary">View Gallery</a>
      <a href="#" id="alliesBtn" class="modern-btn secondary">Our Allies</a>
      <a href="#" id="membersBtn" class="modern-btn secondary">👥 Official Members</a>
      <a href="#" id="enemiesBtn" class="modern-btn enemy">⚠️ Enemies</a>
    </div>
  </div>

  <!-- About Section -->
  <section class="about-section" id="aboutSection">
    <h2 class="section-title">About Thunder Kartells</h2>
    <div class="about-text">
      <p>Thunder Kartells stands as one of the most elite and respected organizations in the urban landscape. Founded on principles of excellence, loyalty, and strategic dominance, we've established ourselves as a formidable force.</p>
      
      <p>Our brotherhood consists of highly skilled operatives who excel in tactical operations, strategic planning, and urban combat. Each member undergoes rigorous training and demonstrates unwavering commitment to the Kartell's code of honor.</p>
      
      <p>We operate with precision and coordination, ensuring every mission is executed flawlessly. From high-stakes extractions to territorial control, Thunder Kartells maintains the highest standards of performance and professionalism.</p>
    </div>
  </section>

  <!-- Ranks Section -->
  <section class="ranks-section" id="ranksSection">
    <h2 class="section-title">Organization Ranks</h2>
    <div class="ranks-grid">
      <!-- Leadership Category -->
      <div class="rank-category">
        <h3>Leadership</h3>
        <div class="rank-list">
          <div class="rank-item">
            <div class="rank-name">LEADER</div>
          </div>
          <div class="rank-item">
            <div class="rank-name">JR LEADER</div>
          </div>
          <div class="rank-item">
            <div class="rank-name">CO LEADER <span class="rank-badge">PRB</span></div>
          </div>
          <div class="rank-item">
            <div class="rank-name">CO BOSS <span class="rank-badge">PRB</span></div>
          </div>
        </div>
      </div>

      <!-- Management Category -->
      <div class="rank-category">
        <h3>Management</h3>
        <div class="rank-list">
          <div class="rank-item">
            <div class="rank-name">VIZE BOSS <span class="rank-badge">PRB</span></div>
          </div>
          <div class="rank-item">
            <div class="rank-name">VIZE II</div>
          </div>
          <div class="rank-item">
            <div class="rank-name">VIZE <span class="rank-badge">PRB</span></div>
          </div>
          <div class="rank-item">
            <div class="rank-name">MANAGER II</div>
          </div>
          <div class="rank-item">
            <div class="rank-name">MANAGER <span class="rank-badge">PRB</span></div>
          </div>
        </div>
      </div>

      <!-- Special Roles Category -->
      <div class="rank-category">
        <h3>Special Roles</h3>
        <div class="rank-list">
          <div class="rank-item">
            <div class="rank-name">STV OWNER</div>
          </div>
          <div class="rank-item">
            <div class="rank-name">ADMIN</div>
          </div>
          <div class="rank-item">
            <div class="rank-name">STV OWNER <span class="rank-badge">PRB</span></div>
          </div>
          <div class="rank-item">
            <div class="rank-name">TEAM LEADER</div>
          </div>
          <div class="rank-item">
            <div class="rank-name">TEAM LEADER <span class="rank-badge">PRB</span></div>
          </div>
        </div>
      </div>

      <!-- TK Elite Category -->
      <div class="rank-category">
        <h3>TK Elite Units</h3>
        <div class="rank-list">
          <div class="rank-item">
            <div class="rank-name">TK MODERATION</div>
          </div>
          <div class="rank-item">
            <div class="rank-name">TK ACE</div>
          </div>
          <div class="rank-item">
            <div class="rank-name">TK ACE MOBILE</div>
          </div>
          <div class="rank-item">
            <div class="rank-name">TK ELITE</div>
          </div>
          <div class="rank-item">
            <div class="rank-name">TK ELITE MOBILE</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <section class="copyright-footer">
    <div class="copyright-text">
      <span class="copyright-symbol">©</span>
      THUNDER KARTELLS ALL COPYRIGHTS RESERVED 2025
    </div>
    <div class="founded-text">
      Thunder Kartells Founded By Nprobie On 2025
    </div>
  </section>

  <!-- Allies Modal -->
  <div class="modal" id="alliesModal">
    <div class="allies-modal">
      <button class="close-x" id="closeAllies">✕</button>
      <div class="allies-header">
        <h2>Strategic Alliance</h2>
        <div style="color: #666; font-size: 12px;">PARTNER ORGANIZATION</div>
      </div>
      <div class="ally-card">
        <div class="ally-name">SPG - Special Protection Group</div>
        <div class="ally-desc">
          Elite security unit operating within the urban landscape.
        </div>
        <div class="spg-buttons">
          <a href="https://discord.gg/NVA8ZvwRK" target="_blank" class="spg-btn">Join SPG Discord</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Enemies Modal -->
  <div class="modal" id="enemiesModal">
    <div class="allies-modal">
      <button class="close-x" id="closeEnemies">✕</button>
      <div class="allies-header">
        <h2>Known Threats</h2>
        <div style="color: #666; font-size: 12px;">WANTED ORGANIZATIONS</div>
      </div>
      <div class="enemy-card">
        <div class="enemy-name">VN-VETERNAS</div>
        <div class="ally-desc">
          Hostile organization operating in our territory.
          Known for aggressive tactics and territorial disputes.
        </div>
      </div>
    </div>
  </div>

  <!-- Members Modal - Under Development -->
  <div class="modal" id="membersModal">
    <div class="allies-modal">
      <button class="close-x" id="closeMembers">✕</button>
      <div class="allies-header">
        <h2>Official Members</h2>
        <div style="color: #666; font-size: 12px;">THUNDER KARTELLS ELITE SQUAD</div>
      </div>
      <div class="development-message">
        🔧 UNDER DEVELOPMENT 🔧
      </div>
    </div>
  </div>

  <!-- Gallery Modal -->
  <div class="modal" id="galleryModal">
    <div class="gallery-modal">
      <button class="close-x" id="closeGallery">✕</button>
      <div class="allies-header">
        <h2>Gallery</h2>
        <div style="color: #666; font-size: 12px;">OPERATIONS & TRAINING</div>
      </div>
      
      <div class="gallery-controls">
        <input type="text" id="imageUrl" class="gallery-input" placeholder="Paste image URL here...">
        <button class="add-image-btn" onclick="addImage()">Add Image</button>
      </div>
      
      <div id="galleryImages">
        <img src="https://images.unsplash.com/photo-1542751371-adc38448a05e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1170&q=80" alt="Gallery" class="gallery-image">
      </div>
      
      <div class="gallery-controls">
        <button class="ghost-btn" id="prevImg">◀ Prev</button>
        <span id="imageCounter" style="color: #ccc;">1/1</span>
        <button class="ghost-btn" id="nextImg">Next ▶</button>
      </div>
    </div>
  </div>

  <!-- Visits Modal -->
  <div class="modal" id="visitsModal">
    <div class="allies-modal">
      <button class="close-x" id="closeVisits">✕</button>
      <div class="allies-header">
        <h2>Website Statistics</h2>
      </div>
      <div style="text-align:center; font-size:24px; color:#00ffff; margin:20px 0;" id="visitsCount">0</div>
    </div>
  </div>

  <script>
    // Diwali Background Animation
    function createDiwaliBackground() {
      const bg = document.getElementById('diwaliBg');
      
      // Create stars
      for (let i = 0; i < 100; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        star.style.width = Math.random() * 3 + 1 + 'px';
        star.style.height = star.style.width;
        star.style.left = Math.random() * 100 + 'vw';
        star.style.top = Math.random() * 100 + 'vh';
        star.style.animationDelay = Math.random() * 3 + 's';
        bg.appendChild(star);
      }
      
      // Create sparkles
      for (let i = 0; i < 30; i++) {
        const sparkle = document.createElement('div');
        sparkle.className = 'sparkle';
        sparkle.style.left = Math.random() * 100 + 'vw';
        sparkle.style.animationDelay = Math.random() * 4 + 's';
        sparkle.style.animationDuration = (Math.random() * 3 + 2) + 's';
        bg.appendChild(sparkle);
      }
      
      // Create light flares
      for (let i = 0; i < 5; i++) {
        const flare = document.createElement('div');
        flare.className = 'light-flare';
        flare.style.left = Math.random() * 100 + 'vw';
        flare.style.top = Math.random() * 100 + 'vh';
        flare.style.animationDelay = Math.random() * 3 + 's';
        bg.appendChild(flare);
      }
      
      // Create fireworks
      setInterval(() => {
        createFirework();
      }, 800);
    }
    
    function createFirework() {
      const bg = document.getElementById('diwaliBg');
      const firework = document.createElement('div');
      firework.className = 'firework';
      
      const x = Math.random() * 100;
      const y = Math.random() * 80;
      firework.style.left = x + 'vw';
      firework.style.top = y + 'vh';
      
      const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff', '#ff8000'];
      const color = colors[Math.floor(Math.random() * colors.length)];
      
      for (let i = 0; i < 50; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.background = color;
        particle.style.boxShadow = `0 0 6px 2px ${color}`;
        
        const angle = Math.random() * Math.PI * 2;
        const distance = Math.random() * 100 + 50;
        const tx = Math.cos(angle) * distance;
        const ty = Math.sin(angle) * distance;
        
        particle.style.setProperty('--tx', tx + 'px');
        particle.style.setProperty('--ty', ty + 'px');
        particle.style.animationDelay = Math.random() * 0.5 + 's';
        
        firework.appendChild(particle);
      }
      
      bg.appendChild(firework);
      
      setTimeout(() => {
        firework.remove();
      }, 1500);
    }

    // Preloader
    window.addEventListener('load', function() {
      setTimeout(function() {
        document.getElementById('preloader').classList.add('hide');
        document.body.classList.add('loaded');
        createDiwaliBackground();
      }, 1200);
    });

    // Three-dot Menu Toggle
    const menuToggle = document.getElementById('menuToggle');
    const dropdownMenu = document.getElementById('dropdownMenu');
    
    menuToggle.addEventListener('click', function() {
      dropdownMenu.classList.toggle('show');
    });
    
    // Close menu when clicking outside
    document.addEventListener('click', function(event) {
      if (!menuToggle.contains(event.target) && !dropdownMenu.contains(event.target)) {
        dropdownMenu.classList.remove('show');
      }
    });

    // Visit Counter
    let visitCount = localStorage.getItem('tk_visits') || 0;
    visitCount++;
    localStorage.setItem('tk_visits', visitCount);

    function showVisits() {
      document.getElementById('visitsCount').textContent = localStorage.getItem('tk_visits');
      document.getElementById('visitsModal').classList.add('show');
    }

    // Gallery System
    let galleryImages = JSON.parse(localStorage.getItem('tk_gallery')) || [
      "https://images.unsplash.com/photo-1542751371-adc38448a05e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1170&q=80"
    ];
    let currentImageIndex = 0;

    function updateGallery() {
      const galleryContainer = document.getElementById('galleryImages');
      galleryContainer.innerHTML = '';
      
      if (galleryImages.length > 0) {
        const img = document.createElement('img');
        img.src = galleryImages[currentImageIndex];
        img.alt = 'Gallery Image';
        img.className = 'gallery-image';
        galleryContainer.appendChild(img);
        
        document.getElementById('imageCounter').textContent = `${currentImageIndex + 1}/${galleryImages.length}`;
      } else {
        galleryContainer.innerHTML = '<p style="color: #666; text-align: center;">No images yet. Add one above!</p>';
        document.getElementById('imageCounter').textContent = '0/0';
      }
      
      // Save to localStorage
      localStorage.setItem('tk_gallery', JSON.stringify(galleryImages));
    }

    function addImage() {
      const urlInput = document.getElementById('imageUrl');
      const url = urlInput.value.trim();
      
      if (url) {
        // Basic URL validation
        if (url.startsWith('http')) {
          galleryImages.push(url);
          currentImageIndex = galleryImages.length - 1;
          updateGallery();
          urlInput.value = '';
        } else {
          alert('Please enter a valid URL starting with http or https');
        }
      } else {
        alert('Please enter an image URL');
      }
    }

    // Gallery navigation
    document.getElementById('prevImg').addEventListener('click', function() {
      if (galleryImages.length > 0) {
        currentImageIndex = (currentImageIndex - 1 + galleryImages.length) % galleryImages.length;
        updateGallery();
      }
    });

    document.getElementById('nextImg').addEventListener('click', function() {
      if (galleryImages.length > 0) {
        currentImageIndex = (currentImageIndex + 1) % galleryImages.length;
        updateGallery();
      }
    });

    // Scroll Animation for About and Ranks Sections
    function checkScroll() {
      const aboutSection = document.getElementById('aboutSection');
      const ranksSection = document.getElementById('ranksSection');
      const aboutPosition = aboutSection.getBoundingClientRect().top;
      const ranksPosition = ranksSection.getBoundingClientRect().top;
      const screenPosition = window.innerHeight / 1.3;

      if (aboutPosition < screenPosition) {
        aboutSection.classList.add('visible');
      }
      
      if (ranksPosition < screenPosition) {
        ranksSection.classList.add('visible');
      }
    }

    window.addEventListener('scroll', checkScroll);

    // Modal Functions
    function setupModal(btnId, modalId, closeId) {
      const btn = document.getElementById(btnId);
      const modal = document.getElementById(modalId);
      const close = document.getElementById(closeId);

      btn.addEventListener('click', function(e) {
        e.preventDefault();
        modal.classList.add('show');
        dropdownMenu.classList.remove('show');
        
        // If opening gallery, update it
        if (modalId === 'galleryModal') {
          updateGallery();
        }
      });

      close.addEventListener('click', function() {
        modal.classList.remove('show');
      });

      modal.addEventListener('click', function(e) {
        if (e.target === modal) {
          modal.classList.remove('show');
        }
      });
    }

    // Setup all modals
    setupModal('alliesBtn', 'alliesModal', 'closeAllies');
    setupModal('membersBtn', 'membersModal', 'closeMembers');
    setupModal('galleryBtn', 'galleryModal', 'closeGallery');
    setupModal('enemiesBtn', 'enemiesModal', 'closeEnemies');

    // Setup menu modal buttons
    setupModal('alliesBtnMenu', 'alliesModal', 'closeAllies');
    setupModal('membersBtnMenu', 'membersModal', 'closeMembers');
    setupModal('galleryBtnMenu', 'galleryModal', 'closeGallery');
    setupModal('enemiesBtnMenu', 'enemiesModal', 'closeEnemies');

    document.getElementById('closeVisits').addEventListener('click', function() {
      document.getElementById('visitsModal').classList.remove('show');
    });

    // Close with Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        document.querySelectorAll('.modal.show').forEach(modal => {
          modal.classList.remove('show');
        });
        dropdownMenu.classList.remove('show');
      }
    });

    // Initial scroll check
    window.addEventListener('load', checkScroll);
    
    // Initialize gallery
    updateGallery();
  </script>
</body>
</html>